# 🚀 5分钟快速开始

## 第1步: 安装依赖（1分钟）

打开命令行/PowerShell，切换到项目目录：

```bash
cd D:\ai_work\stock_test
pip install -r requirements.txt
```

等待安装完成（首次可能需要2-3分钟）。

---

## 第2步: 快速测试（3分钟）

先运行快速测试，验证系统是否正常：

```bash
python quick_test.py
```

你会看到5只样本股票的详细交易记录，类似：

```
测试股票: 000001
交易数: 8
总收益: 12.34%
胜率: 62.5%
```

✅ 看到这样的输出说明系统正常！

---

## 第3步: 完整回测（10-30分钟）

运行完整回测：

```bash
python main.py
```

这会：
- 获取沪深300和中证500的全部成分股
- 下载历史数据（首次较慢）
- 运行完整回测
- 生成报告和图表

等待完成...

---

## 第4步: 查看结果

回测完成后，会生成以下文件，用Excel打开查看：

| 文件 | 用途 |
|------|------|
| `回测汇总对比.csv` | 两个指数的对比（首先看这个） |
| `详细交易记录_沪深300.csv` | 沪深300的所有交易 |
| `详细交易记录_中证500.csv` | 中证500的所有交易 |
| `回测摘要_*.png` | 图表（用图片查看器打开） |

---

## 第5步: 修改策略参数（可选）

修改 `config.py` 中的参数：

```python
STRATEGY_PARAMS = {
    "ma_period": 30,          # 改为20或40试试
    "hold_days": 3,           # 改为2或5试试
    "volume_multiplier": 2.0, # 改为1.5或2.5试试
}
```

然后重新运行：
```bash
python quick_test.py    # 快速验证
python main.py          # 完整回测
```

---

## 常见情况

### ✅ 成功案例
- 沪深300产生100+笔交易，总收益50%+
- 中证500产生80+笔交易，总收益40%+
- 胜率通常在55%-65%之间

### ⚠️ 数据较少
- 部分股票数据可能不足
- 某些时间段交易较少
- 这都是正常的

### ❌ 如果出错
1. 检查网络连接
2. 确保Python版本 >= 3.7
3. 重新运行 `pip install -r requirements.txt`
4. 查看错误信息中的具体问题

---

## 下一步建议

1. **了解策略逻辑** → 查看 `README.md`
2. **详细参数说明** → 查看 `USAGE.md`
3. **自定义策略** → 参考 `strategy.py` 修改逻辑
4. **优化参数** → 运行 `param_optimizer.py`

---

## 关键概念速览

| 概念 | 解释 |
|------|------|
| **MA30向上** | 30日均线比前一天更高 |
| **量能放大** | 今日成交量 > 过去20天平均 × 2倍 |
| **5日线回踩** | 价格跌到5日均线附近但不跌太深 |
| **3日持有** | 买入后固定持有3个交易日卖出 |
| **胜率** | 盈利交易的比例 |
| **盈亏比** | 平均盈利 ÷ 平均亏损 |

---

## 示例结果解读

假设回测汇总是这样：

```
指数      股票数  交易数  总收益%   平均收益%  胜率%   盈亏比
沪深300    45     132    287.45    2.18    62.1    1.85
中证500    38     98     256.34    2.61    59.4    1.72
```

**解读**：
- 沪深300产生132笔交易，总赚287.45%
- 平均每笔赚2.18%，交易成本约0.1%，实际收益约2.08%
- 62%的交易是盈利的
- 平均盈利是平均亏损的1.85倍（好消息）

---

## 常见问题

**Q: 回测周期是多久？**
A: 默认2020-01-01到2025-02-13（约5年数据）

**Q: 能改测试周期吗？**
A: 可以，修改 `config.py` 中的 `START_DATE` 和 `END_DATE`

**Q: 这能赚钱吗？**
A: 历史回测能赚钱 ≠ 未来能赚钱，这只是验证策略逻辑，实际还需考虑手续费、滑点、心理等因素。

**Q: 第一次运行为什么慢？**
A: 需要下载所有历史数据（几百只股票×多年数据），首次约15-30分钟，之后如果缓存数据会快很多。

---

**祝你发现赚钱机会！** 🎯

最后更新: 2025-02-13
